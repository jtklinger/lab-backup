# Lab Backup System - Production Environment Configuration
# Generated for backup01.lab.towerbancorp.com
#
# IMPORTANT: This file contains sensitive information.
# Protect it with appropriate file permissions: chmod 600 .env

# ============================================================================
# CRITICAL SETTINGS - MUST BE CONFIGURED
# ============================================================================

# Secret key for cryptographic operations (MUST be changed!)
# Generate with: openssl rand -base64 48
SECRET_KEY=REPLACE_WITH_STRONG_SECRET_KEY_MINIMUM_32_CHARACTERS

# Database connection
DATABASE_URL=postgresql+asyncpg://labbackup:changeme@127.0.0.1:5432/lab_backup

# Redis connection (cache and Celery broker)
REDIS_URL=redis://127.0.0.1:6379/0
CELERY_BROKER_URL=redis://127.0.0.1:6379/1

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================

# Application info
APP_NAME=Lab Backup System
APP_VERSION=1.0.0

# Debug mode (MUST be false in production!)
DEBUG=false

# API settings
HOST=0.0.0.0
PORT=8443
WORKERS=4

# CORS origins (adjust as needed)
CORS_ORIGINS=https://backup01.lab.towerbancorp.com

# ============================================================================
# SSL/TLS CONFIGURATION
# ============================================================================

# Enable SSL/TLS
ENABLE_SSL=true

# SSL certificate paths (inside container)
SSL_CERT_PATH=/app/certs/server.crt
SSL_KEY_PATH=/app/certs/server.key

# Hostname for certificate validation
SSL_HOSTNAME=backup01.lab.towerbancorp.com

# ============================================================================
# DATABASE SETTINGS
# ============================================================================

# Database pool settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_ECHO=false

# Run migrations on startup
RUN_MIGRATIONS=true

# ============================================================================
# CELERY/WORKER SETTINGS
# ============================================================================

# Celery configuration
CELERY_RESULT_BACKEND=redis://127.0.0.1:6379/2
CELERY_TASK_TRACK_STARTED=true
CELERY_TASK_TIME_LIMIT=3600
CELERY_WORKER_PREFETCH_MULTIPLIER=4

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

# Log level (debug, info, warning, error, critical)
LOG_LEVEL=info

# Log retention (days)
LOG_RETENTION_DAYS=30
ERROR_LOG_RETENTION_DAYS=90

# ============================================================================
# BACKUP SETTINGS
# ============================================================================

# Default backup storage path
BACKUP_STORAGE_PATH=/backups

# Default encryption settings
ENABLE_ENCRYPTION=true
ENCRYPTION_ALGORITHM=AES256

# Default compression
ENABLE_COMPRESSION=true
COMPRESSION_LEVEL=6

# ============================================================================
# NOTIFICATION SETTINGS (OPTIONAL)
# ============================================================================

# Email notifications
SMTP_HOST=mcp-smtp.lab.towerbancorp.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=backup@lab.towerbancorp.com
SMTP_USE_TLS=true

# Notification recipients (comma-separated)
ADMIN_EMAIL=admin@lab.towerbancorp.com

# ============================================================================
# SECURITY SETTINGS
# ============================================================================

# JWT token expiration (minutes)
ACCESS_TOKEN_EXPIRE_MINUTES=60
REFRESH_TOKEN_EXPIRE_DAYS=7

# Password requirements
MIN_PASSWORD_LENGTH=12

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60

# ============================================================================
# STORAGE BACKEND DEFAULTS
# ============================================================================

# Default storage type (local, smb, s3)
DEFAULT_STORAGE_TYPE=local

# SMB/CIFS settings (if using SMB storage)
# SMB_HOST=
# SMB_SHARE=
# SMB_USERNAME=
# SMB_PASSWORD=
# SMB_DOMAIN=

# ============================================================================
# MONITORING & METRICS (OPTIONAL)
# ============================================================================

# Prometheus metrics endpoint
ENABLE_METRICS=false
METRICS_PORT=9090

# Health check interval (seconds)
HEALTH_CHECK_INTERVAL=30

# ============================================================================
# DEVELOPMENT/TESTING (DO NOT USE IN PRODUCTION)
# ============================================================================

# NEVER set these to true in production!
# ALLOW_INSECURE_SSL=false
# SKIP_MIGRATIONS=false
# ENABLE_SQL_LOGGING=false
